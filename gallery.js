function changeSection(e){var t=document.querySelectorAll(".button-row .newbutton");document.querySelectorAll(".button-row .newbutton").forEach(e=>{e.style.backgroundColor="black"}),t[e-1].style.background="#279eff",document.querySelectorAll(".section").forEach(e=>{e.classList.remove("active")}),document.getElementById("section"+e).classList.add("active"),initializeSimpleLightbox("#masonry-"+e)}function initializeSimpleLightbox(e){$(e+" .item a").simpleLightbox({showCounter:!1,closeText:'<i class="fa fa-times" aria-hidden="true"></i>',navText:['<i class="fa fa-chevron-left" aria-hidden="true"></i>','<i class="fa fa-chevron-right" aria-hidden="true"></i>'],captions:!0,captionSelector:"img",captionsData:"alt",fileExt:"webp",animationSpeed:100,loop:!0})}function populateGrid(e,t){const i=t.querySelector(".masonry");e.forEach(e=>{var t=document.createElement("div"),n=(t.className="item",document.createElement("a")),o=(n.href=e,document.createElement("img"));o.setAttribute("src",e),o.className="img-responsive",n.appendChild(o),t.appendChild(n),i.appendChild(t)})}function initScrollToEnd(){document.getElementById("scroll-to-end").addEventListener("click",function(e){e.preventDefault();e=document.body.scrollHeight;{var i=e,c=2e3;const a=window.scrollY,l=performance.now();requestAnimationFrame(function e(t){var n,o,t=t-l;t<c?(window.scrollTo(0,(n=a,o=i,(t/=c/2)<1?o/2*t*t+n:-o/2*(--t*(t-2)-1)+n)),requestAnimationFrame(e)):window.scrollTo(0,i)})}})}function initMagneticButtons(){function t(e){var t=$(this).find(".hovercolor"),t=(0<t.length&&t.css({height:"100%",top:"auto"}),$(this).find(".magnetic")),n=t.find(".MagneticChild"),o=t[0].getBoundingClientRect(),i=parseInt(t.data("strength"),10);gsap.to([t,n],1.5,{x:((e.clientX-o.left)/t.width()-.5)*i,y:((e.clientY-o.top)/t.height()-.5)*i,rotate:"0.001deg",ease:"power4.out"})}function n(e){var t=$(this).find(".hovercolor"),t=(0<t.length&&t.css({height:"0%",top:"0%"}),$(this).find(".magnetic")),n=t.find(".MagneticChild");gsap.to([t,n],1.5,{x:0,y:0,ease:"elastic.out(1, 0.3)"})}$(".magnetic").each(function(){var e=$(this).closest(".OuterMagneticRange");e.on("mousemove",t),e.on("mouseleave",n)})}function initMenuButton(){function e(){gsap.to([$("#MenuButton"),$("#MenuButton").find(".MagneticChild")],1.5,{x:0,y:0,ease:"elastic.out(1, 0.3)",duration:.5}),document.querySelector("lord-icon").style.marginBottom="auto",document.querySelector("lord-icon").style.marginTop="auto",document.querySelector("lord-icon").style.marginBottom="-10%",document.querySelector("lord-icon").style.marginTop="-10%",$("#MenuButton").removeClass("magnetic").css({height:"300px",width:"200px",borderRadius:"30px"})}$("#MenuButton").on("mouseleave",function(){document.querySelector("lord-icon").style.marginBottom="0",document.querySelector("lord-icon").style.marginTop="0",$("#MenuButton").addClass("magnetic").css({height:"60px",width:"60px"})}),$("#MenuButton").on("click",e),$("#MenuButton-icon").on("click",()=>{$("#MenuButton").hasClass("magnetic")||($("#MenuButton").off("click"),setTimeout(function(){$("#MenuButton").on("click",e)},300),$("#MenuButton").addClass("magnetic"),$("#MenuButton").css({height:"60px",width:"60px "}))})}document.addEventListener("DOMContentLoaded",()=>{768<window.innerWidth&&initMagneticButtons(),initMenuButton(),initScrollToEnd();const e=document.querySelectorAll(".section");fetch("ImageData.json").then(e=>e.json()).then(n=>{e.forEach((e,t)=>{console.log("ciao"),populateGrid(n["section"+(t+1)],e)}),initializeSimpleLightbox("#masonry-1")}).catch(e=>{console.error("Errore nel caricamento dei dati JSON:",e)});window.location.href;var t=new URLSearchParams(window.location.search).get("source");"Illustration"===t?document.getElementById("section1").classList.add("active"):"Cartoon"===t?(document.getElementById("section2").classList.add("active"),document.getElementById("section1").classList.remove("active")):"Sketch"===t&&(document.getElementById("section3").classList.add("active"),document.getElementById("section1").classList.remove("active"))}),$(window).on("beforeunload",()=>window.scrollTo(0,0));
